<mah:MetroWindow x:Class="VSModUpdater.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        Title="VS Mod Update Tool"
        Height="800"
        Width="1200"
        FontFamily="Segoe UI"
        GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResizeWithGrip"
        mc:Ignorable="d">

    <mah:MetroWindow.LeftWindowCommands>
        <mah:WindowCommands>
            <Button Click="LaunchBrowserGitHubVSModUpdater" ToolTip="Open up the GitHub repo">
                <iconPacks:PackIconFontAwesome Width="22" Height="22" Kind="GithubBrands" />
            </Button>
        </mah:WindowCommands>
    </mah:MetroWindow.LeftWindowCommands>

    <mah:MetroWindow.RightWindowCommands>
        <mah:WindowCommands>
            <Grid Width="675" HorizontalAlignment="Center" Background="Transparent">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBox x:Name="ModsFolderTextBox"
                             Width="675"
                             Height="20"
                             IsReadOnly="True"
                             VerticalAlignment="Center"
                             TextAlignment="Center"
                             Margin="0,0,5,0"
                             PreviewMouseDown="ModsFolderTextBox_PreviewMouseDown"
                             Background="Transparent"
                             BorderBrush="Transparent">
                        <TextBox.Style>
                            <Style TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
                                <Setter Property="Background" Value="Transparent" />
                                <Setter Property="BorderBrush" Value="Transparent" />
                                <Setter Property="BorderThickness" Value="0" />
                                <Setter Property="OverridesDefaultStyle" Value="True" />
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </StackPanel>
            </Grid>

            <Button Click="CheckForUpdates" Content="Check for updates">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconMaterial Width="22" Height="22" VerticalAlignment="Center" Kind="Update" />
                            <TextBlock Margin="4 0 0 0" VerticalAlignment="Center" Text="{Binding}" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
        </mah:WindowCommands>
    </mah:MetroWindow.RightWindowCommands>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Top Section -->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="0">
                <Button x:Name="CheckUpdatesButton"
                    Content="Check for Mod Updates"
                    Width="150"
                    Height="30"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Click="CheckUpdatesButton_Click" />
            </StackPanel>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Column="1">
                <Button x:Name="UpdateAllModsButton"
                    Content="Update All Mods"
                    Width="150"
                    Height="30"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Click="UpdateAllModsButton_Click" />
            </StackPanel>

            <!-- Game Version Dropdown -->
            <!--
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="0">
                <ComboBox x:Name="GameVersionDropdown"
                          Width="150"
                          Height="30"
                          VerticalAlignment="Center"
                          SelectedIndex="0">
                    <ComboBoxItem Content="1.21.x" />
                    <ComboBoxItem Content="1.20.x" />
                    <ComboBoxItem Content="1.19.x" />
                    <ComboBoxItem Content="1.18.x" />
                    <ComboBoxItem Content="1.17.x" />
                    <ComboBoxItem Content="1.16.x" />
                    <ComboBoxItem Content="1.15.x" />
                    <ComboBoxItem Content="1.14.x" />
                    <ComboBoxItem Content="1.13.x" />
                    <ComboBoxItem Content="1.12.x" />
                    <ComboBoxItem Content="1.11.x" />
                    <ComboBoxItem Content="1.10.x" />
                    <ComboBoxItem Content="1.9.x" />
                    <ComboBoxItem Content="1.8.x" />
                    <ComboBoxItem Content="1.7.x" />
                    <ComboBoxItem Content="1.6.x" />
                    <ComboBoxItem Content="1.5.x" />
                    <ComboBoxItem Content="1.4.x" />
                </ComboBox>
            </StackPanel>-->

            <!-- Browse Folder TextBox + Button -->
            <!--
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0 10 0 20" Grid.Column="1">
                <TextBox x:Name="ModsFolderTextBox"
                         Width="500"
                         Height="30"
                         IsReadOnly="True"
                         Margin="0,0,-2,0"
                         VerticalAlignment="Center" />
                <Button Content="Browse..." Width="100" Height="30" Click="BrowseFolder_Click" />
            </StackPanel>
            -->
        </Grid>

        <!-- Middle Section -->
        <Grid Grid.Row="1" Margin="0 0 0 20">
        </Grid>

        <!-- Bottom Section -->
        <Grid Grid.Row="2" Margin="0 0 0 10">
            <!-- Mods Table -->
            <DataGrid x:Name="ModsDataGrid"
                      Grid.Row="1"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      Margin="0,0,0,10"
                      VerticalAlignment="Stretch"
                      HorizontalAlignment="Stretch"
                      ColumnHeaderStyle="{DynamicResource CenteredMetroColumnHeader}">

                <DataGrid.Columns>
                    <DataGridCheckBoxColumn ElementStyle="{DynamicResource MetroDataGridCheckBox}" EditingElementStyle="{DynamicResource MetroDataGridCheckBox}" Header="Has Update" IsReadOnly="True" Binding="{Binding HasUpdate, Mode=OneWay}" />
                    <DataGridTextColumn Header="File Name" Binding="{Binding FileName}" Width="200" ElementStyle="{DynamicResource CenterCellTextBlockStyle}" />
                    <DataGridTextColumn Header="Mod Name" Binding="{Binding Name}" Width="200" ElementStyle="{DynamicResource CenterCellTextBlockStyle}" />
                    <DataGridTextColumn Header="Game Version" Binding="{Binding Game}" Width="125" ElementStyle="{DynamicResource CenterCellTextBlockStyle}" />
                    <DataGridTextColumn Header="Installed Version" Binding="{Binding Version}" Width="125" ElementStyle="{DynamicResource CenterCellTextBlockStyle}" />
                    <DataGridTextColumn Header="Latest Version" Binding="{Binding LatestVersion}" Width="125" ElementStyle="{DynamicResource CenterCellTextBlockStyle}" />
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </Grid>
</mah:MetroWindow>